{"version":3,"sources":["storage.js","components/navbar.component.js","components/login.component.js","components/select.component.js","components/dataset.component.js","components/assets-list.component.js","components/home.component.js","components/register.component.js","App.js","index.js"],"names":["getFromStorage","key","valueStr","localStorage","getItem","JSON","parse","err","setInStorage","obj","console","error","setItem","stringify","Navbar","logout","fetch","method","headers","body","token","then","res","json","isGuest","deleteAccount","window","location","user_id","className","style","position","to","onClick","Login","setIsLoading","useState","username","setUsername","password","setPassword","textAlign","display","marginLeft","marginRight","marginBottom","type","placeholder","name","value","onChange","e","target","user","log","href","setTimeout","Select","props","AssetOptions","content","i","otherAssets","length","push","assetClass","id","selected","document","getElementById","selectedIndex","assetsCopy","assets","setAssets","splice","axios","post","userId","selectAsset","Dataset","feasibleSet","setFeasibleSet","myChart","setMyChart","params","data","datasets","fill","backgroundColor","pointBorderColor","pointBackgroundColor","pointBorderWidth","pointHoverRadius","pointHoverBackgroundColor","pointHoverBorderColor","pointHoverBorderWidth","pointRadius","pointHitRadius","options","legend","scales","yAxes","scaleLabel","labelString","xAxes","tooltips","callbacks","afterTitle","tooltipItem","holdings","index","Math","round","useEffect","destroy","ctx","Chart","width","height","Asset","asset","ticker","deleteAsset","_id","AssetsList","setOtherAssets","isLoading","get","userAssets","response","catch","newOtherAssets","newAssets","filter","el","map","currentasset","Home","storedToken","success","Register","App","path","exact","component","ReactDOM","render"],"mappings":"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","file":"static/js/main.a8a979aa.chunk.js","sourcesContent":["export function getFromStorage(key) {\r\n    if (!key) {\r\n        return null;\r\n    }\r\n\r\n    try {\r\n        const valueStr = localStorage.getItem(key);\r\n        if (valueStr) {\r\n            return JSON.parse(valueStr);\r\n        }\r\n        return null;\r\n    } catch(err) {\r\n        return null;\r\n    }\r\n}\r\n\r\nexport function setInStorage(key, obj) {\r\n    if (!key) {\r\n        console.error('Error: Key is missing');\r\n    }\r\n\r\n    try {\r\n        localStorage.setItem(key, JSON.stringify(obj));\r\n    } catch (err) {\r\n        console.error(err);\r\n    }\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { getFromStorage, setInStorage } from '../storage'\r\n\r\nconst Navbar = () => {\r\n\r\n  const logout = () => {\r\n    fetch('/account/logout', {\r\n      method: 'DELETE',\r\n      headers: {'Content-Type': 'application/json'},\r\n      body: JSON.stringify({\r\n        token: getFromStorage('token')\r\n      })\r\n    })\r\n    .then(res => { return res.json() })\r\n    .then(res => {\r\n      if (res.isGuest === true) {\r\n        deleteAccount()\r\n      }\r\n      window.location = \"/\"\r\n    })\r\n  }\r\n\r\n  const deleteAccount = () => {\r\n    fetch('/account/delete', {\r\n      method: 'DELETE',\r\n      headers: {'Content-Type': 'application/json'},\r\n      body: JSON.stringify({\r\n        user_id: getFromStorage('user')\r\n      })\r\n    })\r\n    .then(res => {\r\n        logout()\r\n        return res.json()\r\n    })\r\n  }\r\n\r\n  return (\r\n    <nav className=\"navbar navbar-dark bg-dark navbar-expand-lg\">\r\n      <div className=\"container\" style={{position: 'relative'}}>\r\n        <Link to=\"/\" className=\"navbar-brand\">Portfolio Builder</Link>\r\n        \r\n        <ul className=\"navbar-nav navigation\">\r\n          <Link to=\"/register\" className=\"nav-link\">Sign Up</Link>\r\n          <Link to=\"/login\" className=\"nav-link\">Log In</Link>\r\n          <button onClick={() => {\r\n            if (getFromStorage('guest')) {\r\n              setInStorage('guest', false)\r\n              deleteAccount()\r\n            } else {\r\n              logout()\r\n            }\r\n          }}>Logout</button>\r\n          <button onClick={deleteAccount}>Delete Account</button>\r\n        </ul>\r\n      </div>\r\n    </nav>\r\n  )\r\n  \r\n}\r\n\r\nexport default Navbar","import React, { useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport {getFromStorage, setInStorage} from '../storage.js'\r\n\r\nconst Login = (setIsLoading) => {\r\n\r\n    const [username, setUsername] = useState('')\r\n    const [password, setPassword] = useState('')\r\n\r\n    const handleSubmit = (e) => {\r\n        fetch('/account/signin', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({\r\n                username: username,\r\n                password: password,\r\n            })\r\n        })\r\n        .then(res => { return res.json() })\r\n        .then(res => {\r\n            setInStorage('token', res.token)\r\n            setInStorage('user', res.user)\r\n            console.log('Login: ' + getFromStorage('user'))\r\n            setInStorage('username', username)\r\n            console.log(res)\r\n            setIsLoading(false)\r\n        })\r\n    }\r\n\r\n    const handleGuest = () => {\r\n        fetch('/account/guest', { method: 'GET' })\r\n            .then(res => {\r\n                return res.json()\r\n            })\r\n            .then(res => {\r\n                setInStorage('token', res.token)\r\n                setInStorage('user', res.user)\r\n                setInStorage('guest', true)\r\n                setTimeout(() => {\r\n                    window.location = \"/\"\r\n                }, 1000)\r\n            })   \r\n    }\r\n\r\n    return (\r\n        <div className=\"inner-login\">\r\n            <h1 style={{textAlign: \"center\"}}>Log in</h1><br/>\r\n            <input style={{display: \"block\", marginLeft: \"auto\", marginRight: \"auto\", marginBottom: \"3px\"}} type=\"text\" placeholder=\"Username\" name=\"username\" value={username} onChange={e => setUsername(e.target.value)}/>\r\n            <input style={{display: \"block\", marginLeft: \"auto\", marginRight: \"auto\"}} type=\"password\" placeholder=\"Password\" name=\"password\" value={password} onChange={e => setPassword(e.target.value)}/><br/>\r\n            <button style={{display: \"block\", marginLeft: \"auto\", marginRight: \"auto\"}} className=\"btn btn-secondary\" onClick={handleSubmit}>Submit</button><br/>\r\n            <p style={{textAlign: \"center\"}}>Don't have an account?<br/>\r\n                <Link to=\"/register\" className=\"nav-link\">Sign Up</Link> or continue as&nbsp;\r\n                <a href=\"/#\" onClick={handleGuest}>Guest</a>\r\n            </p>\r\n        </div>\r\n    )\r\n    \r\n}\r\n\r\nexport default Login","import React from 'react'\r\nimport axios from 'axios'\r\nimport { getFromStorage } from '../storage.js'\r\n\r\nconst Select = props => {\r\n\r\n    const selectAsset = () => { \r\n      const selected = document.getElementById(\"assets\").selectedIndex\r\n      const assetsCopy = [...props.assets]\r\n      if (props.otherAssets[selected]) { \r\n        assetsCopy.push(props.otherAssets[selected])\r\n        props.setAssets(assetsCopy)\r\n        props.otherAssets.splice(selected, 1)\r\n        axios.post('/account/assets', { assets: assetsCopy, userId: getFromStorage('user') }) \r\n      }\r\n    }\r\n  \r\n    const AssetOptions = () => {\r\n      let content = []\r\n      for (let i = 0; i < props.otherAssets.length; i++) {\r\n        content.push(<option key={i}>{props.otherAssets[i].assetClass}</option>)\r\n      }\r\n      return <select id=\"assets\">{content}</select>\r\n    }\r\n  \r\n    return (\r\n      <div>\r\n        <button style={{marginRight: '5px'}} onClick={() => { selectAsset() }}>Add</button>\r\n        <AssetOptions/>\r\n      </div>\r\n    )\r\n  \r\n}\r\n\r\nexport default Select","import React, { useState, useEffect } from 'react'\r\nimport Chart from 'chart.js'\r\n\r\nconst Dataset = (props) => {\r\n\r\n    const [feasibleSet, setFeasibleSet] = useState([])\r\n    const [myChart, setMyChart] = useState()\r\n\r\n    const data = {\r\n      datasets: [\r\n        {\r\n          fill: false,\r\n          backgroundColor: 'rgba(75,192,192,0.4)',\r\n          pointBorderColor: 'rgba(75,192,192,1)',\r\n          pointBackgroundColor: '#fff',\r\n          pointBorderWidth: 1,\r\n          pointHoverRadius: 1,\r\n          pointHoverBackgroundColor: 'rgba(75,192,192,1)',\r\n          pointHoverBorderColor: 'rgba(220,220,220,1)',\r\n          pointHoverBorderWidth: 1,\r\n          pointRadius: 1,\r\n          pointHitRadius: 10,\r\n          data: feasibleSet\r\n        }\r\n      ]\r\n    }\r\n    \r\n    const options = {\r\n      legend: {\r\n        display: false\r\n      },\r\n      scales: {\r\n        yAxes: [{\r\n          scaleLabel: {\r\n            display: true,\r\n            labelString: 'Return'\r\n          }\r\n        }],\r\n        xAxes: [{\r\n          scaleLabel: {\r\n            display: true,\r\n            labelString: 'Standard Deviation'\r\n          }\r\n        }]\r\n      },\r\n      tooltips: {\r\n        position: 'nearest',\r\n        callbacks: {\r\n          afterTitle: (tooltipItem) => {\r\n              let holdings = [...feasibleSet[tooltipItem[0].index].holdings]\r\n              for (let i = 0; i < holdings.length; i++) {\r\n                let assetClass = props.assets[i].assetClass\r\n                let multiplier = 100\r\n                holdings[i] = assetClass + ': ' + (Math.round((holdings[i]*multiplier) * multiplier) / multiplier) + '%'\r\n              }\r\n              return holdings\r\n          },\r\n          //label: () => {}\r\n        }\r\n      }\r\n    }\r\n    var params = {\r\n      type: 'scatter',\r\n      data: data,\r\n      options: options\r\n    }\r\n\r\n    useEffect(() => {\r\n      fetch('/portfolio', {\r\n        method: 'post',\r\n        body: JSON.stringify({\r\n          assets: props.assets\r\n        }),\r\n        headers: { \"Content-type\": \"application/json\" }\r\n      })\r\n        .then(res => res.json())\r\n        .then(res => setFeasibleSet(res))\r\n    }, [props.assets])\r\n\r\n    useEffect(() => {\r\n      if (myChart) {myChart.destroy()}\r\n      let ctx = document.getElementById('myChart')     \r\n      setMyChart(new Chart(ctx, params))\r\n    }, [feasibleSet])\r\n\r\n    return (\r\n      <div id=\"canvas\" className=\"container\">\r\n          <canvas id='myChart' width=\"400\" height=\"200\"></canvas>\r\n      </div>\r\n    )\r\n\r\n}\r\n\r\nexport default Dataset","import React, { useState, useEffect } from 'react'\r\nimport axios from 'axios'\r\nimport { getFromStorage } from '../storage.js'\r\nimport Select from '../components/select.component'\r\nimport Dataset from '../components/dataset.component'\r\n\r\nconst Asset = props => {\r\n  return (\r\n    <tr>\r\n      <td>{props.asset.assetClass}</td>\r\n      <td>{props.asset.name}</td>\r\n      <td>{props.asset.ticker}</td>\r\n      <td>\r\n        <button onClick={() => { props.deleteAsset(props.asset._id) }}>delete</button>\r\n      </td>\r\n    </tr>\r\n  )\r\n}\r\n\r\nconst AssetsList = () => {\r\n\r\n  const [assets,           setAssets] = useState([])\r\n  const [otherAssets, setOtherAssets] = useState([])\r\n  const [isLoading,     setIsLoading] = useState(true)\r\n  \r\n  useEffect(() => {\r\n    axios.get('/account/info?userId=' + getFromStorage('user'))\r\n    .then(res => {\r\n      let userAssets = res.data.assets\r\n      axios.post('/assets/get', userAssets)\r\n      .then(response => {\r\n        setAssets(response.data.assets)\r\n        setOtherAssets(response.data.otherAssets)\r\n      })\r\n      .then(() => setIsLoading(false))\r\n      .catch(err => console.log(err))\r\n    })\r\n    .catch((error) => {\r\n      console.log(error)\r\n    })\r\n  }, [])\r\n\r\n  const deleteAsset = (id) => {\r\n\r\n    let newOtherAssets = [...otherAssets]\r\n    for (let i = 0; i < assets.length; i++) {\r\n      if (assets[i]._id === id) {\r\n        newOtherAssets.push(assets[i])\r\n        break\r\n      }\r\n    }\r\n    setOtherAssets(newOtherAssets)\r\n    const newAssets = assets.filter(el => el._id !== id)\r\n    setAssets( newAssets )\r\n    axios.post('/account/assets', { assets: newAssets, userId: getFromStorage('user') })\r\n  }\r\n\r\n  const assetList = () => {\r\n    return assets.map(currentasset => {\r\n      return <Asset asset={currentasset} deleteAsset={deleteAsset} key={currentasset._id}/>\r\n    })\r\n  }\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div></div>\r\n    )\r\n  } else {\r\n    return (\r\n      <div className=\"container\">\r\n        <div style={{textAlign: 'right', marginBottom: '25px', marginRight: '8px'}}>\r\n          <Select otherAssets={otherAssets} assets={assets} setAssets={setAssets}/>\r\n        </div>\r\n        <table className=\"table\">\r\n          <thead>\r\n            <tr>\r\n              <th>Asset Class</th>\r\n              <th>Name</th>\r\n              <th>Ticker</th>\r\n              <th></th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            { assetList() }\r\n          </tbody>\r\n        </table>\r\n        <Dataset assets={assets}/>\r\n      </div>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nexport default AssetsList","import React, { useState, useEffect } from 'react'\r\nimport Login from './login.component'\r\nimport AssetList from './assets-list.component'\r\nimport { getFromStorage } from '../storage'\r\n\r\nconst Home = () => {\r\n  const [isLoading, setIsLoading] = useState(true)\r\n  useEffect(() => {\r\n    const storedToken = getFromStorage('token')\r\n    if (storedToken) {\r\n      fetch('/account/verify?token=' + storedToken, { method: 'GET' })\r\n      .then(res => res.json())\r\n      .then(res => { if (res.success) {setIsLoading(false)} })\r\n    }\r\n  }, [])\r\n  return (\r\n    isLoading ? \r\n      <div id=\"login\"><Login setIsLoading={setIsLoading}/></div> \r\n      : \r\n      <div>\r\n        <AssetList />\r\n      </div>\r\n  )\r\n}\r\n\r\nexport default Home","import React, { useState } from 'react'\r\nimport {setInStorage} from '../storage.js'\r\n\r\nconst Register = () => {\r\n\r\n    const [username, setUsername] = useState('')\r\n    const [password, setPassword] = useState('')\r\n\r\n    const handleSubmit = () => {\r\n        fetch('/account/register', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({\r\n                username: username,\r\n                password: password,\r\n            })\r\n        })\r\n        .then(res => {\r\n            return res.json()\r\n        })\r\n        .then(res => {\r\n            fetch('/account/signin', {\r\n                method: 'POST',\r\n                headers: {'Content-Type': 'application/json'},\r\n                body: JSON.stringify({\r\n                    username: username,\r\n                    password: password,\r\n                })\r\n            })\r\n            .then(res => {\r\n                return res.json()\r\n            })\r\n            .then(res => {\r\n                setInStorage('token', res.token)\r\n                setInStorage('user', res.user)\r\n                setInStorage('username', username)\r\n                setTimeout(() => {\r\n                    window.location = \"/\"\r\n                }, 1000)\r\n            })\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"inner-login\">\r\n            <h1 style={{textAlign: \"center\"}}>Sign up</h1><br/>\r\n            <input style={{display: \"block\", marginLeft: \"auto\", marginRight: \"auto\", marginBottom: \"3px\"}} type=\"text\" placeholder=\"Username\" name=\"username\" value={username} onChange={e => setUsername(e.target.value)}/>\r\n            <input style={{display: \"block\", marginLeft: \"auto\", marginRight: \"auto\"}} type=\"password\" placeholder=\"Password\" name=\"password\" value={password} onChange={e => setPassword(e.target.value)}/><br/>\r\n            <button style={{display: \"block\", marginLeft: \"auto\", marginRight: \"auto\"}} className=\"btn btn-secondary\" onClick={handleSubmit}>Submit</button><br/>\r\n            <p style={{textAlign: \"center\"}}>Already have an account? <a href=\"/login\">Log in</a></p>\r\n        </div>\r\n    )\r\n    \r\n}\r\n\r\nexport default Register","import React from 'react'\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport './App.css'\nimport { BrowserRouter as Router, Route} from 'react-router-dom'\n\nimport Navbar from './components/navbar.component'\nimport Home from './components/home.component'\nimport Login from './components/login.component'\nimport Register from './components/register.component'\nimport Dataset from './components/dataset.component'\n\nconst App = () => {\n  return (\n    <Router>\n      <div>\n        <Navbar />\n        <br/>\n        <Route path=\"/\" exact component={Home} />\n        <Route path=\"/dataset\" component={Dataset} />\n        <Route path=\"/login\" component={Login} />\n        <Route path=\"/register\" component={Register} />\n      </div>\n    </Router>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}