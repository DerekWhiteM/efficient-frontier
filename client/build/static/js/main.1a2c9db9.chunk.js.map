{"version":3,"sources":["storage.js","components/navbar.component.js","components/login.component.js","components/select.component.js","components/dataset.component.js","components/assets-list.component.js","components/home.component.js","components/register.component.js","App.js","index.js"],"names":["getFromStorage","key","valueStr","localStorage","getItem","JSON","parse","err","setInStorage","obj","console","error","setItem","stringify","Navigation","logout","fetch","method","headers","body","token","then","res","json","isGuest","deleteAccount","window","location","user_id","Navbar","bg","variant","expand","Brand","href","Toggle","aria-controls","Collapse","id","Nav","className","NavDropdown","title","Item","onClick","Divider","Login","setIsLoading","useState","username","setUsername","password","setPassword","style","textAlign","display","marginLeft","marginRight","marginBottom","type","placeholder","name","value","onChange","e","target","user","log","to","Select","props","AssetOptions","content","i","otherAssets","length","push","assetClass","width","marginTop","selected","document","getElementById","selectedIndex","assetsCopy","assets","setAssets","splice","axios","post","userId","selectAsset","Dataset","feasibleSet","setFeasibleSet","myChart","setMyChart","params","data","datasets","fill","backgroundColor","pointBorderColor","pointBackgroundColor","pointBorderWidth","pointHoverRadius","pointHoverBackgroundColor","pointHoverBorderColor","pointHoverBorderWidth","pointRadius","pointHitRadius","options","legend","scales","yAxes","scaleLabel","labelString","xAxes","tooltips","position","callbacks","afterTitle","tooltipItem","holdings","index","Math","round","useEffect","destroy","ctx","Chart","height","Asset","asset","ticker","deleteAsset","_id","AssetsList","setOtherAssets","isLoading","get","userAssets","response","catch","newOtherAssets","newAssets","filter","el","map","currentasset","Home","storedToken","success","Register","setTimeout","App","path","exact","component","ReactDOM","render"],"mappings":"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","file":"static/js/main.1a2c9db9.chunk.js","sourcesContent":["export function getFromStorage(key) {\r\n    if (!key) {\r\n        return null;\r\n    }\r\n\r\n    try {\r\n        const valueStr = localStorage.getItem(key);\r\n        if (valueStr) {\r\n            return JSON.parse(valueStr);\r\n        }\r\n        return null;\r\n    } catch(err) {\r\n        return null;\r\n    }\r\n}\r\n\r\nexport function setInStorage(key, obj) {\r\n    if (!key) {\r\n        console.error('Error: Key is missing');\r\n    }\r\n\r\n    try {\r\n        localStorage.setItem(key, JSON.stringify(obj));\r\n    } catch (err) {\r\n        console.error(err);\r\n    }\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { getFromStorage, setInStorage } from '../storage'\r\nimport Nav from 'react-bootstrap/Nav'\r\nimport Navbar from 'react-bootstrap/Navbar'\r\nimport NavDropdown from 'react-bootstrap/NavDropdown'\r\n\r\nconst Navigation = () => {\r\n\r\n  const logout = () => {\r\n    fetch('/account/logout', {\r\n      method: 'DELETE',\r\n      headers: {'Content-Type': 'application/json'},\r\n      body: JSON.stringify({\r\n        token: getFromStorage('token')\r\n      })\r\n    })\r\n    .then(res => { return res.json() })\r\n    .then(res => {\r\n      if (res.isGuest === true) {\r\n        deleteAccount()\r\n      }\r\n      window.location = \"/\"\r\n    })\r\n  }\r\n\r\n  const deleteAccount = () => {\r\n    fetch('/account/delete', {\r\n      method: 'DELETE',\r\n      headers: {'Content-Type': 'application/json'},\r\n      body: JSON.stringify({\r\n        user_id: getFromStorage('user')\r\n      })\r\n    })\r\n    .then(res => {\r\n        logout()\r\n        return res.json()\r\n    })\r\n  }\r\n\r\n  /*return (\r\n    <nav className=\"navbar navbar-dark bg-dark navbar-expand-lg\">\r\n      <div className=\"container\" style={{position: 'relative'}}>\r\n        <Link to=\"/\" className=\"navbar-brand\">Portfolio Builder</Link>\r\n        \r\n        <ul className=\"navbar-nav navigation\">\r\n          <Link to=\"/register\" className=\"nav-link\">Sign Up</Link>\r\n          <Link to=\"/login\" className=\"nav-link\">Log In</Link>\r\n          <button onClick={() => {\r\n            if (getFromStorage('guest')) {\r\n              setInStorage('guest', false)\r\n              deleteAccount()\r\n            } else {\r\n              logout()\r\n            }\r\n          }}>Logout</button>\r\n          <button onClick={deleteAccount}>Delete Account</button>\r\n        </ul>\r\n      </div>\r\n    </nav>\r\n  )*/\r\n\r\n  return (\r\n    <Navbar bg=\"dark\" variant=\"dark\" expand=\"lg\">\r\n    <Navbar.Brand href=\"/\">Portfolio Builder</Navbar.Brand>\r\n    <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n    <Navbar.Collapse id=\"basic-navbar-nav\">\r\n      <Nav className=\"ml-auto\">\r\n        <NavDropdown title=\"Account\" id=\"basic-nav-dropdown\">\r\n          <NavDropdown.Item \r\n            onClick={\r\n              () => {\r\n                if (getFromStorage('guest')) {\r\n                  setInStorage('guest', false)\r\n                  deleteAccount()\r\n                } else { logout() }\r\n              }\r\n            }\r\n            >Logout\r\n          </NavDropdown.Item>\r\n          <NavDropdown.Divider />\r\n          <NavDropdown.Item onClick={deleteAccount}>Delete</NavDropdown.Item>\r\n        </NavDropdown>\r\n      </Nav>\r\n    </Navbar.Collapse>\r\n    </Navbar>\r\n  )\r\n  \r\n}\r\n\r\nexport default Navigation","import React, { useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport {getFromStorage, setInStorage} from '../storage.js'\r\n\r\nconst Login = (setIsLoading) => {\r\n\r\n    const [username, setUsername] = useState('')\r\n    const [password, setPassword] = useState('')\r\n\r\n    const handleSubmit = (e) => {\r\n        fetch('/account/signin', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({\r\n                username: username,\r\n                password: password,\r\n            })\r\n        })\r\n        .then(res => { return res.json() })\r\n        .then(res => {\r\n            setInStorage('token', res.token)\r\n            setInStorage('user', res.user)\r\n            console.log('Login: ' + getFromStorage('user'))\r\n            setInStorage('username', username)\r\n            console.log(res)\r\n            setIsLoading(false)\r\n        })\r\n    }\r\n\r\n    const handleGuest = () => {\r\n        fetch('/account/guest', { method: 'GET' })\r\n            .then(res => { return res.json() })\r\n            .then(res => {\r\n                setInStorage('token', res.token)\r\n                setInStorage('user', res.user)\r\n                setInStorage('guest', true)\r\n                setIsLoading(false)\r\n            })   \r\n    }\r\n\r\n    return (\r\n        <div className=\"inner-login\">\r\n            <h1 style={{textAlign: \"center\"}}>Log in</h1><br/>\r\n            <input style={{display: \"block\", marginLeft: \"auto\", marginRight: \"auto\", marginBottom: \"3px\"}} type=\"text\" placeholder=\"Username\" name=\"username\" value={username} onChange={e => setUsername(e.target.value)}/>\r\n            <input style={{display: \"block\", marginLeft: \"auto\", marginRight: \"auto\"}} type=\"password\" placeholder=\"Password\" name=\"password\" value={password} onChange={e => setPassword(e.target.value)}/><br/>\r\n            <button style={{display: \"block\", marginLeft: \"auto\", marginRight: \"auto\"}} className=\"btn btn-secondary\" onClick={handleSubmit}>Submit</button><br/>\r\n            <p style={{textAlign: \"center\"}}>Don't have an account?<br/>\r\n                <Link to=\"/register\" className=\"nav-link\">Sign Up</Link> or continue as&nbsp;\r\n                <a href=\"/#\" onClick={handleGuest}>Guest</a>\r\n            </p>\r\n        </div>\r\n    )\r\n    \r\n}\r\n\r\nexport default Login","import React from 'react'\r\nimport axios from 'axios'\r\nimport { getFromStorage } from '../storage.js'\r\nimport { authorize } from 'passport'\r\n\r\nconst Select = props => {\r\n\r\n    const selectAsset = () => { \r\n      const selected = document.getElementById(\"assets\").selectedIndex\r\n      const assetsCopy = [...props.assets]\r\n      if (props.otherAssets[selected]) { \r\n        assetsCopy.push(props.otherAssets[selected])\r\n        props.setAssets(assetsCopy)\r\n        props.otherAssets.splice(selected, 1)\r\n        axios.post('/account/assets', { assets: assetsCopy, userId: getFromStorage('user') }) \r\n      }\r\n    }\r\n  \r\n    const AssetOptions = () => {\r\n      let content = []\r\n      for (let i = 0; i < props.otherAssets.length; i++) {\r\n        content.push(<option key={i}>{props.otherAssets[i].assetClass}</option>)\r\n      }\r\n      return <select id=\"assets\">{content}</select>\r\n    }\r\n  \r\n    return (\r\n      <div style={{width: '100%', textAlign: 'right'}}>\r\n        <AssetOptions/>\r\n        <button style={{marginTop: '-20px', marginBottom: '20px', marginLeft: '4.5%', marginRight: '10.5%'}} onClick={() => { selectAsset() }}>Add</button>\r\n      </div>\r\n    )\r\n  \r\n}\r\n\r\nexport default Select","import React, { useState, useEffect } from 'react'\r\nimport Chart from 'chart.js'\r\n\r\nconst Dataset = (props) => {\r\n\r\n    const [feasibleSet, setFeasibleSet] = useState([])\r\n    const [myChart, setMyChart] = useState()\r\n\r\n    const data = {\r\n      datasets: [\r\n        {\r\n          fill: false,\r\n          backgroundColor: 'rgba(75,192,192,0.4)',\r\n          pointBorderColor: 'rgba(75,192,192,1)',\r\n          pointBackgroundColor: '#fff',\r\n          pointBorderWidth: 1,\r\n          pointHoverRadius: 1,\r\n          pointHoverBackgroundColor: 'rgba(75,192,192,1)',\r\n          pointHoverBorderColor: 'rgba(220,220,220,1)',\r\n          pointHoverBorderWidth: 1,\r\n          pointRadius: 1,\r\n          pointHitRadius: 10,\r\n          data: feasibleSet\r\n        }\r\n      ]\r\n    }\r\n    \r\n    const options = {\r\n      legend: {\r\n        display: false\r\n      },\r\n      scales: {\r\n        yAxes: [{\r\n          scaleLabel: {\r\n            display: true,\r\n            labelString: 'Return'\r\n          }\r\n        }],\r\n        xAxes: [{\r\n          scaleLabel: {\r\n            display: true,\r\n            labelString: 'Standard Deviation'\r\n          }\r\n        }]\r\n      },\r\n      tooltips: {\r\n        position: 'nearest',\r\n        callbacks: {\r\n          afterTitle: (tooltipItem) => {\r\n              let holdings = [...feasibleSet[tooltipItem[0].index].holdings]\r\n              for (let i = 0; i < holdings.length; i++) {\r\n                let assetClass = props.assets[i].assetClass\r\n                let multiplier = 100\r\n                holdings[i] = assetClass + ': ' + (Math.round((holdings[i]*multiplier) * multiplier) / multiplier) + '%'\r\n              }\r\n              return holdings\r\n          },\r\n          //label: () => {}\r\n        }\r\n      }\r\n    }\r\n    var params = {\r\n      type: 'scatter',\r\n      data: data,\r\n      options: options\r\n    }\r\n\r\n    useEffect(() => {\r\n      fetch('/portfolio', {\r\n        method: 'post',\r\n        body: JSON.stringify({\r\n          assets: props.assets\r\n        }),\r\n        headers: { \"Content-type\": \"application/json\" }\r\n      })\r\n        .then(res => res.json())\r\n        .then(res => setFeasibleSet(res))\r\n    }, [props.assets])\r\n\r\n    useEffect(() => {\r\n      if (myChart) {myChart.destroy()}\r\n      let ctx = document.getElementById('myChart')     \r\n      setMyChart(new Chart(ctx, params))\r\n    }, [feasibleSet])\r\n\r\n    return (\r\n      <div id=\"canvas\" className=\"container\">\r\n          <canvas id='myChart' width=\"400\" height=\"200\"></canvas>\r\n      </div>\r\n    )\r\n\r\n}\r\n\r\nexport default Dataset","import React, { useState, useEffect } from 'react'\r\nimport axios from 'axios'\r\nimport { getFromStorage } from '../storage.js'\r\nimport Select from '../components/select.component'\r\nimport Dataset from '../components/dataset.component'\r\n\r\nconst Asset = props => {\r\n  return (\r\n    <tr>\r\n      <td>{props.asset.assetClass}</td>\r\n      <td>{props.asset.name}</td>\r\n      <td>{props.asset.ticker}</td>\r\n      <td>\r\n        <a href=\"/#\" onClick={() => { props.deleteAsset(props.asset._id) }}>delete</a>\r\n      </td>\r\n    </tr>\r\n  )\r\n}\r\n\r\nconst AssetsList = () => {\r\n\r\n  const [assets,           setAssets] = useState([])\r\n  const [otherAssets, setOtherAssets] = useState([])\r\n  const [isLoading,     setIsLoading] = useState(true)\r\n  \r\n  useEffect(() => {\r\n    axios.get('/account/info?userId=' + getFromStorage('user'))\r\n    .then(res => {\r\n      let userAssets = res.data.assets\r\n      axios.post('/assets/get', userAssets)\r\n      .then(response => {\r\n        setAssets(response.data.assets)\r\n        setOtherAssets(response.data.otherAssets)\r\n      })\r\n      .then(() => setIsLoading(false))\r\n      .catch(err => console.log(err))\r\n    })\r\n    .catch((error) => {\r\n      console.log(error)\r\n    })\r\n  }, [])\r\n\r\n  const deleteAsset = (id) => {\r\n\r\n    let newOtherAssets = [...otherAssets]\r\n    for (let i = 0; i < assets.length; i++) {\r\n      if (assets[i]._id === id) {\r\n        newOtherAssets.push(assets[i])\r\n        break\r\n      }\r\n    }\r\n    setOtherAssets(newOtherAssets)\r\n    const newAssets = assets.filter(el => el._id !== id)\r\n    setAssets( newAssets )\r\n    axios.post('/account/assets', { assets: newAssets, userId: getFromStorage('user') })\r\n  }\r\n\r\n  const assetList = () => {\r\n    return assets.map(currentasset => {\r\n      return <Asset asset={currentasset} deleteAsset={deleteAsset} key={currentasset._id}/>\r\n    })\r\n  }\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div></div>\r\n    )\r\n  } else {\r\n    return (\r\n      <div className=\"container\">\r\n        <table className=\"table\">\r\n          <thead>\r\n            <tr>\r\n              <th>Asset Class</th>\r\n              <th>Name</th>\r\n              <th>Ticker</th>\r\n              <th>Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            { assetList() }\r\n          </tbody>\r\n        </table>\r\n        <Select otherAssets={otherAssets} assets={assets} setAssets={setAssets}/>\r\n        <Dataset assets={assets}/>\r\n      </div>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nexport default AssetsList","import React, { useState, useEffect } from 'react'\r\nimport Login from './login.component'\r\nimport AssetList from './assets-list.component'\r\nimport { getFromStorage } from '../storage'\r\n\r\nconst Home = () => {\r\n  const [isLoading, setIsLoading] = useState(true)\r\n  useEffect(() => {\r\n    const storedToken = getFromStorage('token')\r\n    if (storedToken) {\r\n      fetch('/account/verify?token=' + storedToken, { method: 'GET' })\r\n      .then(res => res.json())\r\n      .then(res => { if (res.success) {setIsLoading(false)} })\r\n    }\r\n  }, [])\r\n  return (\r\n    isLoading ? \r\n      <div id=\"login\"><Login setIsLoading={setIsLoading}/></div> \r\n      : \r\n      <div>\r\n        <AssetList />\r\n      </div>\r\n  )\r\n}\r\n\r\nexport default Home","import React, { useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport {setInStorage} from '../storage.js'\r\n\r\nconst Register = () => {\r\n\r\n    const [username, setUsername] = useState('')\r\n    const [password, setPassword] = useState('')\r\n\r\n    const handleSubmit = () => {\r\n        fetch('/account/register', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({\r\n                username: username,\r\n                password: password,\r\n            })\r\n        })\r\n        .then(res => {\r\n            return res.json()\r\n        })\r\n        .then(res => {\r\n            fetch('/account/signin', {\r\n                method: 'POST',\r\n                headers: {'Content-Type': 'application/json'},\r\n                body: JSON.stringify({\r\n                    username: username,\r\n                    password: password,\r\n                })\r\n            })\r\n            .then(res => {\r\n                return res.json()\r\n            })\r\n            .then(res => {\r\n                setInStorage('token', res.token)\r\n                setInStorage('user', res.user)\r\n                setInStorage('username', username)\r\n                setTimeout(() => {\r\n                    window.location = \"/\"\r\n                }, 1000)\r\n            })\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"inner-login\">\r\n            <h1 style={{textAlign: \"center\"}}>Sign up</h1><br/>\r\n            <input style={{display: \"block\", marginLeft: \"auto\", marginRight: \"auto\", marginBottom: \"3px\"}} type=\"text\" placeholder=\"Username\" name=\"username\" value={username} onChange={e => setUsername(e.target.value)}/>\r\n            <input style={{display: \"block\", marginLeft: \"auto\", marginRight: \"auto\"}} type=\"password\" placeholder=\"Password\" name=\"password\" value={password} onChange={e => setPassword(e.target.value)}/><br/>\r\n            <button style={{display: \"block\", marginLeft: \"auto\", marginRight: \"auto\"}} className=\"btn btn-secondary\" onClick={handleSubmit}>Submit</button><br/>\r\n            <p style={{textAlign: \"center\"}}>Already have an account? <Link to=\"/login\" className=\"nav-link\">Log in</Link></p>\r\n        </div>\r\n    )\r\n    \r\n}\r\n\r\nexport default Register","import React from 'react'\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport './App.css'\nimport { BrowserRouter as Router, Route} from 'react-router-dom'\n\nimport Navigation from './components/navbar.component'\nimport Home from './components/home.component'\nimport Login from './components/login.component'\nimport Register from './components/register.component'\nimport Dataset from './components/dataset.component'\n\nconst App = () => {\n  return (\n    <Router>\n      <div>\n        <Navigation />\n        <br/>\n        <Route path=\"/\" exact component={Home} />\n        <Route path=\"/dataset\" component={Dataset} />\n        <Route path=\"/login\" component={Login} />\n        <Route path=\"/register\" component={Register} />\n      </div>\n    </Router>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}