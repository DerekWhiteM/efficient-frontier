{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\derek\\\\Documents\\\\projects\\\\efficient-frontier\\\\client\\\\src\\\\components\\\\assets-list.component.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { getFromStorage } from '../storage.js';\nimport Select from '../components/select.component';\nimport Dataset from '../components/dataset.component';\n\nconst Asset = props => {\n  return /*#__PURE__*/_jsxDEV(\"tr\", {\n    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n      children: props.asset.assetClass\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n      children: props.asset.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n      children: props.asset.ticker\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          props.deleteAsset(props.asset._id);\n        },\n        children: \"delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 14,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 9,\n    columnNumber: 5\n  }, this);\n};\n\n_c = Asset;\n\nconst AssetsList = () => {\n  _s();\n\n  const [assets, setAssets] = useState([]);\n  const [otherAssets, setOtherAssets] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  useEffect(() => {\n    axios.get('http://localhost:5000/account/info?userId=' + getFromStorage('user')).then(res => {\n      let userAssets = res.data.assets;\n      axios.post('http://localhost:5000/assets/get', userAssets).then(response => {\n        setAssets(response.data.assets);\n        setOtherAssets(response.data.otherAssets);\n      }).then(() => setIsLoading(false)).catch(err => console.log(err));\n    }).catch(error => {\n      console.log(error);\n    });\n  }, []);\n\n  const deleteAsset = id => {\n    let newOtherAssets = [...otherAssets];\n\n    for (let i = 0; i < assets.length; i++) {\n      if (assets[i]._id === id) {\n        newOtherAssets.push(assets[i]);\n        break;\n      }\n    }\n\n    setOtherAssets(newOtherAssets);\n    const newAssets = assets.filter(el => el._id !== id);\n    setAssets(newAssets);\n    axios.post('http://localhost:5000/account/assets', {\n      assets: newAssets,\n      userId: getFromStorage('user')\n    });\n  };\n\n  const assetList = () => {\n    return assets.map(currentasset => {\n      return /*#__PURE__*/_jsxDEV(Asset, {\n        asset: currentasset,\n        deleteAsset: deleteAsset\n      }, currentasset._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 14\n      }, this);\n    });\n  };\n\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'right',\n          marginBottom: '25px',\n          marginRight: '8px'\n        },\n        children: /*#__PURE__*/_jsxDEV(Select, {\n          otherAssets: otherAssets,\n          assets: assets,\n          setAssets: setAssets\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"table\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Asset Class\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Ticker\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: assetList()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Dataset, {\n        assets: assets\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this);\n  }\n};\n\n_s(AssetsList, \"Jgh0OlgPya9IFRYFaz/GfMJjGlU=\");\n\n_c2 = AssetsList;\nexport default AssetsList;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Asset\");\n$RefreshReg$(_c2, \"AssetsList\");","map":{"version":3,"sources":["C:/Users/derek/Documents/projects/efficient-frontier/client/src/components/assets-list.component.js"],"names":["React","useState","useEffect","axios","getFromStorage","Select","Dataset","Asset","props","asset","assetClass","name","ticker","deleteAsset","_id","AssetsList","assets","setAssets","otherAssets","setOtherAssets","isLoading","setIsLoading","get","then","res","userAssets","data","post","response","catch","err","console","log","error","id","newOtherAssets","i","length","push","newAssets","filter","el","userId","assetList","map","currentasset","textAlign","marginBottom","marginRight"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport axios from 'axios'\r\nimport { getFromStorage } from '../storage.js'\r\nimport Select from '../components/select.component'\r\nimport Dataset from '../components/dataset.component'\r\n\r\nconst Asset = props => {\r\n  return (\r\n    <tr>\r\n      <td>{props.asset.assetClass}</td>\r\n      <td>{props.asset.name}</td>\r\n      <td>{props.asset.ticker}</td>\r\n      <td>\r\n        <button onClick={() => { props.deleteAsset(props.asset._id) }}>delete</button>\r\n      </td>\r\n    </tr>\r\n  )\r\n}\r\n\r\nconst AssetsList = () => {\r\n\r\n  const [assets,           setAssets] = useState([])\r\n  const [otherAssets, setOtherAssets] = useState([])\r\n  const [isLoading,     setIsLoading] = useState(true)\r\n  \r\n  useEffect(() => {\r\n    axios.get('http://localhost:5000/account/info?userId=' + getFromStorage('user'))\r\n    .then(res => {\r\n      let userAssets = res.data.assets\r\n      axios.post('http://localhost:5000/assets/get', userAssets)\r\n      .then(response => {\r\n        setAssets(response.data.assets)\r\n        setOtherAssets(response.data.otherAssets)\r\n      })\r\n      .then(() => setIsLoading(false))\r\n      .catch(err => console.log(err))\r\n    })\r\n    .catch((error) => {\r\n      console.log(error)\r\n    })\r\n  }, [])\r\n\r\n  const deleteAsset = (id) => {\r\n\r\n    let newOtherAssets = [...otherAssets]\r\n    for (let i = 0; i < assets.length; i++) {\r\n      if (assets[i]._id === id) {\r\n        newOtherAssets.push(assets[i])\r\n        break\r\n      }\r\n    }\r\n    setOtherAssets(newOtherAssets)\r\n    const newAssets = assets.filter(el => el._id !== id)\r\n    setAssets( newAssets )\r\n    axios.post('http://localhost:5000/account/assets', { assets: newAssets, userId: getFromStorage('user') })\r\n  }\r\n\r\n  const assetList = () => {\r\n    return assets.map(currentasset => {\r\n      return <Asset asset={currentasset} deleteAsset={deleteAsset} key={currentasset._id}/>\r\n    })\r\n  }\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div></div>\r\n    )\r\n  } else {\r\n    return (\r\n      <div className=\"container\">\r\n        <div style={{textAlign: 'right', marginBottom: '25px', marginRight: '8px'}}>\r\n          <Select otherAssets={otherAssets} assets={assets} setAssets={setAssets}/>\r\n        </div>\r\n        <table className=\"table\">\r\n          <thead>\r\n            <tr>\r\n              <th>Asset Class</th>\r\n              <th>Name</th>\r\n              <th>Ticker</th>\r\n              <th></th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            { assetList() }\r\n          </tbody>\r\n        </table>\r\n        <Dataset assets={assets}/>\r\n      </div>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nexport default AssetsList"]},"metadata":{},"sourceType":"module"}