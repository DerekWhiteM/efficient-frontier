{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\derek\\\\Documents\\\\projects\\\\efficient-frontier\\\\client\\\\src\\\\components\\\\login.component.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { getFromStorage, setInStorage } from '../storage.js';\n\nconst Login = () => {\n  _s();\n\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n\n  const handleSubmit = e => {\n    fetch('http://localhost:5000/account/signin', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        username: username,\n        password: password\n      })\n    }).then(res => {\n      return res.json();\n    }).then(res => {\n      setInStorage('token', res.token);\n      setInStorage('user', res.user);\n      console.log('Login: ' + getFromStorage('user'));\n      setInStorage('username', username);\n      console.log(res);\n      window.location = \"/\";\n    });\n  };\n\n  const handleGuest = () => {\n    fetch('http://localhost:5000/account/guest', {\n      method: 'GET'\n    }).then(res => {\n      return res.json();\n    }).then(res => {\n      setInStorage('token', res.token);\n      setInStorage('user', res.user);\n      setInStorage('guest', true);\n      setTimeout(() => {\n        window.location = \"/\";\n      }, 1000);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"inner-login\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      style: {\n        textAlign: \"center\"\n      },\n      children: \"Log in\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 58\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      style: {\n        display: \"block\",\n        marginLeft: \"auto\",\n        marginRight: \"auto\",\n        marginBottom: \"3px\"\n      },\n      type: \"text\",\n      placeholder: \"Username\",\n      name: \"username\",\n      value: username,\n      onChange: e => setUsername(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      style: {\n        display: \"block\",\n        marginLeft: \"auto\",\n        marginRight: \"auto\"\n      },\n      type: \"password\",\n      placeholder: \"Password\",\n      name: \"password\",\n      value: password,\n      onChange: e => setPassword(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 205\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      style: {\n        display: \"block\",\n        marginLeft: \"auto\",\n        marginRight: \"auto\"\n      },\n      className: \"btn btn-secondary\",\n      onClick: handleSubmit,\n      children: \"Submit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 157\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        textAlign: \"center\"\n      },\n      children: [\"Don't have an account?\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 68\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"/register\",\n        children: \"Sign up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this), \" or continue as\\xA0\", /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"/#\",\n        onClick: handleGuest,\n        children: \"Guest\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Login, \"wuQOK7xaXdVz4RMrZQhWbI751Oc=\");\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/Users/derek/Documents/projects/efficient-frontier/client/src/components/login.component.js"],"names":["React","useState","getFromStorage","setInStorage","Login","username","setUsername","password","setPassword","handleSubmit","e","fetch","method","headers","body","JSON","stringify","then","res","json","token","user","console","log","window","location","handleGuest","setTimeout","textAlign","display","marginLeft","marginRight","marginBottom","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport {getFromStorage, setInStorage} from '../storage.js'\r\n\r\nconst Login = () => {\r\n\r\n    const [username, setUsername] = useState('')\r\n    const [password, setPassword] = useState('')\r\n\r\n    const handleSubmit = (e) => {\r\n        fetch('http://localhost:5000/account/signin', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({\r\n                username: username,\r\n                password: password,\r\n            })\r\n        })\r\n        .then(res => { return res.json() })\r\n        .then(res => {\r\n            setInStorage('token', res.token)\r\n            setInStorage('user', res.user)\r\n            console.log('Login: ' + getFromStorage('user'))\r\n            setInStorage('username', username)\r\n            console.log(res)\r\n            window.location = \"/\"\r\n        })\r\n    }\r\n\r\n    const handleGuest = () => {\r\n        fetch('http://localhost:5000/account/guest', { method: 'GET' })\r\n            .then(res => {\r\n                return res.json()\r\n            })\r\n            .then(res => {\r\n                setInStorage('token', res.token)\r\n                setInStorage('user', res.user)\r\n                setInStorage('guest', true)\r\n                setTimeout(() => {\r\n                    window.location = \"/\"\r\n                }, 1000)\r\n            })   \r\n    }\r\n\r\n    return (\r\n        <div className=\"inner-login\">\r\n            <h1 style={{textAlign: \"center\"}}>Log in</h1><br/>\r\n            <input style={{display: \"block\", marginLeft: \"auto\", marginRight: \"auto\", marginBottom: \"3px\"}} type=\"text\" placeholder=\"Username\" name=\"username\" value={username} onChange={e => setUsername(e.target.value)}/>\r\n            <input style={{display: \"block\", marginLeft: \"auto\", marginRight: \"auto\"}} type=\"password\" placeholder=\"Password\" name=\"password\" value={password} onChange={e => setPassword(e.target.value)}/><br/>\r\n            <button style={{display: \"block\", marginLeft: \"auto\", marginRight: \"auto\"}} className=\"btn btn-secondary\" onClick={handleSubmit}>Submit</button><br/>\r\n            <p style={{textAlign: \"center\"}}>Don't have an account?<br/>\r\n                <a href=\"/register\">Sign up</a> or continue as&nbsp;\r\n                <a href=\"/#\" onClick={handleGuest}>Guest</a>\r\n            </p>\r\n        </div>\r\n    )\r\n    \r\n}\r\n\r\nexport default Login"]},"metadata":{},"sourceType":"module"}